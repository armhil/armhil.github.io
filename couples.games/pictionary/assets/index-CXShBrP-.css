:root{--bg: #f3f6ff;--bg-accent: #e9f2ff;--ink: #10213d;--ink-soft: #4a5b78;--panel: #ffffff;--line: #c9d7ee;--line-strong: #8da5cf;--primary: #1d4ed8;--primary-strong: #1e3a8a;--accent: #ea580c;--danger: #7c3aed;font-family:Manrope,Avenir Next,sans-serif;color:var(--ink);background:var(--bg)}*{box-sizing:border-box}body{margin:0;min-height:100vh;background:radial-gradient(circle at 8% 10%,rgba(29,78,216,.14),transparent 30%),radial-gradient(circle at 92% 16%,rgba(234,88,12,.12),transparent 34%),linear-gradient(160deg,var(--bg) 0%,var(--bg-accent) 100%)}#app{min-height:100vh;display:grid;place-items:center;padding:1rem}.panel{background:var(--panel);border:1px solid var(--line);border-radius:20px;box-shadow:0 14px 30px #1e3a8a1a}.mode-gate{width:min(680px,calc(100vw - 2rem));margin:0;padding:1.5rem;display:grid;gap:1rem}.eyebrow{margin:0;text-transform:uppercase;letter-spacing:.1em;font-size:.74rem;font-weight:800;color:var(--primary)}h1{margin:0;font-size:1.9rem;line-height:1.08}.subtitle{margin:0;color:var(--ink-soft);font-size:.96rem}.mode-options{display:grid;gap:.8rem;grid-template-columns:repeat(2,minmax(0,1fr))}.mode-card{border:1px solid var(--line);border-radius:14px;padding:1rem;background:linear-gradient(180deg,#fff,#f7faff);display:grid;gap:.6rem}.mode-card h2{margin:0;font-size:1.03rem}.mode-card p{margin:0;color:var(--ink-soft);font-size:.9rem;min-height:2.8em}.mode-card button{width:100%}.mode-help{margin:0;text-align:center;color:var(--ink-soft);font-size:.85rem}.layout{width:min(1720px,100vw - 2rem);margin:0;display:grid;gap:.9rem;grid-template-columns:minmax(250px,290px) minmax(760px,1fr) minmax(300px,340px);align-items:start}.controls{padding:1.1rem;display:grid;gap:.9rem;align-content:start}.section-title{margin:0;font-size:1.5rem;line-height:1.08;font-weight:800}.mode-label{margin:0;color:var(--primary);font-weight:700;font-size:.9rem}.field{display:grid;gap:.35rem}.field span{font-size:.77rem;font-weight:800;color:var(--ink-soft);text-transform:uppercase;letter-spacing:.08em}.field-row{display:grid;gap:.65rem;grid-template-columns:1fr 1fr}input,button{font:inherit}input{width:100%;border:1px solid var(--line-strong);border-radius:12px;padding:.65rem .76rem;font-size:.95rem;background:#fff;color:var(--ink)}input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #1d4ed829}.actions{display:grid;gap:.5rem}.actions.three-actions{grid-template-columns:repeat(3,minmax(0,1fr))}.actions.two-actions{grid-template-columns:repeat(2,minmax(0,1fr))}button{border:1px solid #9db2d3;border-radius:12px;background:#f5f8ff;color:var(--ink);font-weight:700;padding:.62rem .8rem;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease}button:hover:enabled{transform:translateY(-1px);box-shadow:0 8px 16px #1d4ed829}button:disabled{opacity:.45;cursor:not-allowed;box-shadow:none}button.primary{border-color:transparent;background:linear-gradient(140deg,var(--primary),var(--primary-strong));color:#fff}button.danger{border-color:transparent;background:linear-gradient(140deg,var(--danger),#5b21b6);color:#fff}.room-meta{display:grid;gap:.3rem;padding:.72rem;border-radius:14px;background:linear-gradient(150deg,#f8faff,#eef3ff);border:1px solid var(--line)}.room-meta p{margin:0;font-size:.9rem}.copy-link-button{background:linear-gradient(130deg,#f8f9ff,#f0f5ff)}.status{margin:0;font-weight:700;color:var(--primary)}.status[data-type=warn]{color:var(--accent)}.status[data-type=error]{color:var(--danger)}.compact-controls{padding:.78rem;gap:.58rem}.compact-controls .subtitle{display:none}.compact-controls .section-title{font-size:1.22rem}.game-panel{padding:1.1rem;display:grid;gap:.8rem;align-content:start}.round-header{border:1px solid var(--line);border-radius:14px;background:linear-gradient(160deg,#fff,#f8fbff);padding:.8rem;display:grid;gap:.35rem}.round-label{margin:0;color:var(--ink-soft);font-weight:800;letter-spacing:.08em;text-transform:uppercase;font-size:.76rem}.turn-label{margin:0;font-size:1rem;font-weight:800}.word-mask{margin:0;font-size:clamp(1.1rem,2.1vw,1.8rem);letter-spacing:.12em;color:var(--primary-strong);font-weight:800}.hint-line{margin:0;color:var(--ink-soft);font-size:.87rem}.canvas-wrap{border:1px solid var(--line);border-radius:16px;background:#f5f8ff;padding:.7rem}.drawing-canvas{display:block;width:100%;min-height:520px;aspect-ratio:16 / 10;background:#fff;border-radius:12px;border:1px dashed #a9bad8;touch-action:none;cursor:not-allowed}.drawing-canvas.is-drawer{cursor:crosshair}.draw-controls{display:grid;gap:.5rem;grid-template-columns:repeat(4,minmax(0,1fr));align-items:end}.compact-field input[type=range]{padding:0;border:none;box-shadow:none;min-height:0;accent-color:var(--primary)}.compact-field input[type=color]{min-height:42px;padding:.22rem}.guess-controls{display:grid;gap:.5rem;grid-template-columns:1fr auto}.guess-controls button{white-space:nowrap}.game-event{margin:0;color:var(--ink-soft);font-size:.9rem}.scoreboard{border-radius:14px;border:1px solid var(--line);background:linear-gradient(160deg,#fff,#f9fbff);padding:.8rem;display:grid;gap:.3rem}.scoreboard h3{margin:0 0 .2rem;font-size:1rem}.scoreboard p{margin:0;display:flex;justify-content:space-between;color:var(--ink-soft)}.chat-panel{padding:.75rem;display:grid;grid-template-rows:auto minmax(0,1fr) auto;gap:.55rem;min-height:0;max-height:40vh;overflow:hidden}.chat-panel h3{margin:0;font-size:.95rem;color:var(--ink);text-transform:uppercase;letter-spacing:.08em}.chat-log{border-radius:12px;border:1px solid var(--line);background:linear-gradient(180deg,#fbfdff,#f3f7ff);padding:.56rem;display:grid;align-content:start;gap:.4rem;min-height:0;height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch;touch-action:pan-y;overscroll-behavior:contain;scrollbar-width:thin}.chat-empty{margin:0;color:#6b7e9f;font-size:.86rem}.chat-line{margin:0;color:var(--ink-soft);font-size:.86rem;line-height:1.35}.chat-compose{display:grid;gap:.45rem;grid-template-columns:1fr auto}.chat-compose button{white-space:nowrap}.same-device-card{border-radius:16px;border:1px solid var(--line);background:#fff;padding:1.1rem}.same-device-card h2{margin:0 0 .5rem}.same-device-card p{margin:.35rem 0 0;color:var(--ink-soft)}.stage{padding:.8rem;display:grid;gap:.8rem;align-content:start}.videos{display:grid;gap:.7rem;grid-template-columns:1fr}.video-card{background:linear-gradient(165deg,#0f172a,#1e293b);border-radius:15px;border:1px solid rgba(191,209,235,.36);padding:.65rem;color:#fff;display:grid;gap:.4rem}.video-card h3{margin:0;font-size:.94rem;letter-spacing:.02em}video{width:100%;aspect-ratio:16 / 10;background:#101827;border-radius:12px;object-fit:cover;border:1px solid rgba(219,231,253,.46)}.local-video{transform:scaleX(-1)}.video-note{margin:0;color:#dbe5fb;font-size:.82rem}.volume-control{display:grid;gap:.3rem}.volume-control span{font-size:.76rem;color:#f4f7ff;font-weight:700}.volume-control input[type=range]{padding:0;border:none;box-shadow:none;accent-color:#f59e0b}.preview-audio-controls{display:grid;gap:.4rem}@media (max-width: 1100px){.layout,.mode-options,.actions.three-actions,.field-row{grid-template-columns:1fr}.draw-controls{grid-template-columns:repeat(2,minmax(0,1fr))}.chat-panel{max-height:46vh}.drawing-canvas{min-height:420px}}@media (max-width: 760px){#app{place-items:start center;padding:.7rem}.layout{width:min(100%,100vw - 1rem);gap:.75rem}.controls,.game-panel,.chat-panel,.stage{padding:.8rem}.draw-controls,.guess-controls,.chat-compose{grid-template-columns:1fr}.chat-panel{min-height:250px;max-height:52vh}.drawing-canvas{min-height:320px}.local-video-card{display:none}.partner-video-card{grid-template-columns:112px 1fr;grid-template-areas:"title title" "video note" "video volume";align-items:center;gap:.35rem .65rem}.partner-video-card h3{grid-area:title}.partner-video-card video{grid-area:video;width:112px;min-width:112px;max-width:112px;aspect-ratio:4 / 3}.partner-video-card .video-note{grid-area:note}.partner-video-card .volume-control{grid-area:volume}}
